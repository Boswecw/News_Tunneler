# Backend Configuration

# Environment
ENV=dev
PORT=8000
DEBUG=true

# Database
DATABASE_URL=sqlite:///./data/news.db

# PostgreSQL (Phase 2 - Production Database)
USE_POSTGRESQL=false
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=news_tunneler
POSTGRES_USER=news_tunneler
POSTGRES_PASSWORD=news_tunneler_dev_password
POSTGRES_POOL_SIZE=10
POSTGRES_MAX_OVERFLOW=20

# Polling
POLL_INTERVAL_SEC=900

# Scoring
MIN_ALERT_SCORE=12

# Optional API Keys
NEWSAPI_KEY=
ALPHAVANTAGE_KEY=
FINNHUB_KEY=
POLYGON_API_KEY=

# Slack Notifications
SLACK_WEBHOOK_URL=

# Email Notifications
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
ALERT_EMAIL_TO=

# Daily Opportunities Report (7:00 AM ET Mon-Fri)
REPORT_RECIPIENTS=["user@example.com"]
REPORT_MIN_CONFIDENCE=0.70
REPORT_MIN_EXPECTED_RETURN_PCT=1.0
REPORT_MIN_R2=0.95
REPORT_MAX_TICKERS_PER_SIDE=8
ENABLE_REPORT_PDF=false
ADMIN_TOKEN=your_secure_admin_token_here

# CORS
CORS_ORIGINS=["http://localhost:5173"]

# LLM Analysis
OPENAI_API_KEY=your_key_here
OPENAI_MODEL=gpt-4o-mini
LLM_MIN_ALERT_SCORE=12

# Price Data & Analysis
PRIMARY_PRICE_VENDOR=alphavantage
CACHE_TTL_SECONDS=900

# Redis (Phase 1 - Caching Layer)
# For local development (individual settings):
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
# For production (connection string format):
REDIS_URL=redis://localhost:6379/0
# Celery task queue (uses Redis as broker):
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# Authentication & Security
JWT_SECRET_KEY=your-secret-key-change-in-production-min-32-chars-please-use-openssl-rand-hex-32
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
REQUIRE_AUTH=false
ALLOW_REGISTRATION=true

# Monitoring & Observability
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
LOG_LEVEL=INFO
SENTRY_DSN=

